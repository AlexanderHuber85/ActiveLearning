

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>26. BJT Common Emitter Amplifier &mdash; Red Pitaya 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Red Pitaya 1.0 documentation" href="index.html"/>
        <link rel="next" title="27. MOS transistor common source amplifier" href="Activity27_MOSCommonSourceAmplifier.html"/>
        <link rel="prev" title="25. MOSFET transistor as a switch" href="Activity25_MOSasSwitch.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Red Pitaya
          

          
            
            <img src="_static/RedPitayaLogo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Activity01_Phase.html">1. What is Phase?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity02_Kirchhoff.html">2. Kirchhoff’s Voltage and Current Laws</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity03_Voltage.html">3. Voltage Division</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity04_Proportionality.html">4. Proportionality and Superposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity05_Thevenin.html">5. Thévenin Equivalent Circuit and Maximum Power Transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity06_ResponseRC.html">6. Transient Response of RC Circuit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity07_ResponseRL.html">7. Transient Response of an RL Circuit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity08_ResonanceRCL.html">8. Resonance in RLC Circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity09_LowPassandHighPassFilters.html">9. Low Pass and High Pass Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity10_BandPassFilters.html">10. Band Pass Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity11_ImpedanceMeasurementFrequencyEffects.html">11. Impedance Measurement - Frequency Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity12_MeasuringaLoudspeakerImpedanceProfile.html">12. Measuring a Loudspeaker Impedance Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity13_BasicOPAmpConfigurations.html">13. Basic OP Amp Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity14_OPAMPOpenLoopGain.html">14. OPAMP Open Loop Gain</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity15_OpAmpGainBandwidthProduct.html">15. OPAMP Gain Bandwidth Product <span class="math notranslate">\(GBW\)</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity16_DifferenceAmplifier.html">16. Difference Amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity17_CurrentSensingUsingDifferenceAmplifier.html">17. Current Sensing using a Difference Amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity18_TheComparatorSchmittTrigger.html">18. The Comparator, Positive Feedback and Schmitt Trigger</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity19_Diodes.html">19. Diodes and Jupyter Notebook example</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity20_DiodeRectifiers.html">20. Diode Rectifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity21_PrecisionRectifiers.html">21. Precision Rectifiers, Absolute value circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity22_TheBJTasDiode.html">22. The BJT transistor connected as a diode</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity23_TheMOSAsDiode.html">23. The MOS transistor connected as a diode</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity24_TheBJTasSwitch.html">24. BJT transistor as a switch</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity25_MOSasSwitch.html">25. MOSFET transistor as a switch</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">26. BJT Common Emitter Amplifier</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#objective">26.1. Objective</a></li>
<li class="toctree-l2"><a class="reference internal" href="#notes">26.2. Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#background">26.3. Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-calculation-of-the-common-emitter-amplifier">26.4. Quick calculation of the common emitter amplifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="#materials">26.5. Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#procedure">26.6. Procedure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#questions">26.7. Questions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Activity27_MOSCommonSourceAmplifier.html">27. MOS transistor common source amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity28_BoostConverter.html">28. DC-DC Boost Converter</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Red Pitaya</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>26. BJT Common Emitter Amplifier</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Activity26_BJTCommonEmitterAmplifier.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bjt-common-emitter-amplifier">
<h1>26. BJT Common Emitter Amplifier<a class="headerlink" href="#bjt-common-emitter-amplifier" title="Permalink to this headline">¶</a></h1>
<div class="section" id="objective">
<h2>26.1. Objective<a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h2>
<p>The purpose of this experiment is to investigate the common emitter
configuration using the BJT device.</p>
</div>
<div class="section" id="notes">
<h2>26.2. Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>In this tutorials we use the terminology taken from the user manual
when referring to the connections to the Red Pitaya STEMlab board
<a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/developerGuide/125-10/top.html">hardware</a>.</p>
<p><a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/appsFeatures/apps-featured/oscSigGen/osc.html">Oscilloscope</a> &amp; <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/appsFeatures/apps-featured/oscSigGen/osc.html">Signal</a> <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/appsFeatures/apps-featured/oscSigGen/osc.html">generator</a> application is used for generating
and observing signals on the circuit.</p>
<p>Extension connector pins used for <strong>+5 V</strong>, <strong>-3.3 V</strong> and <strong>+3.3 V</strong>
voltage supply are show in the documentation <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/developerGuide/125-14/extent.html#extension-connector-e2">here</a>.</p>
</div>
<div class="section" id="background">
<h2>26.3. Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>The configuration, shown in Fig. 1, demonstrates an npn transistor
used as a common-emitter amplifier. Output load resistor <span class="math notranslate">\(R_L\)</span>
is chosen such that for the desired nominal collector current
<span class="math notranslate">\(I_C\)</span>, approximately one third of the +5 V voltage (1.6 V)
appears at <span class="math notranslate">\(V_{CE}\)</span> (at DC operating point condition). Resistor
<span class="math notranslate">\(R_B\)</span> sets the nominal bias operating point for the
transistor (base current <span class="math notranslate">\(I_B\)</span>) to sink the required collector
current <span class="math notranslate">\(I_C\)</span>. The input signal is AC coupled to the base of
the transistor with capacitor <span class="math notranslate">\(C_1\)</span>  to not disturb <strong>DC bias
conditions</strong>. Voltage divider <span class="math notranslate">\(\frac{R_1}{R_2}\)</span> is chosen to
provide a self-biased DC operating point. Resistor <span class="math notranslate">\(R_E\)</span> is used
to add emitter degeneration (current feedback) in order to stabilize
the DC operating point.</p>
<p>The best approach for selecting the <span class="math notranslate">\(R_L\)</span> and <span class="math notranslate">\(R_E\)</span>
is to enable voltage drops across <span class="math notranslate">\(Q_1\)</span>, <span class="math notranslate">\(R_L\)</span> and
<span class="math notranslate">\(R_E\)</span> equal to the 1/3 of the <span class="math notranslate">\(V_{CC}\)</span> (at DC operating
point condition). Therefore <span class="math notranslate">\(R_E\)</span> = <span class="math notranslate">\(R_L\)</span>. Adding the emitter
degeneration resistor has improved the stability of the DC operating
point at the cost of reduced amplifier gain. A higher gain for AC
signals can be restored to some extent by adding capacitor
<span class="math notranslate">\(C_E\)</span> across the degeneration resistor <span class="math notranslate">\(R_E\)</span>, effectively
setting the ” <span class="math notranslate">\(R_E\)</span> ” value close to zero for AC
signals. Capacitor <span class="math notranslate">\(C_2\)</span> is added to block the DC component
of the output signal.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">How to design an common-emitter amplifier is nicely explained in a
video tutorial on <a class="reference external" href="https://www.youtube.com/watch?v=Y2ELwLrZrEM&amp;t=1213s">The Signal Path</a> Youtube channel.</p>
</div>
<img alt="_images/Activity_26_Figure_1.png" src="_images/Activity_26_Figure_1.png" />
<p>Figure 1: Common-emitter amplifier configuration</p>
</div>
<div class="section" id="quick-calculation-of-the-common-emitter-amplifier">
<h2>26.4. Quick calculation of the common emitter amplifier<a class="headerlink" href="#quick-calculation-of-the-common-emitter-amplifier" title="Permalink to this headline">¶</a></h2>
<p>Suppose that we want to design an amplifier with the gain
<span class="math notranslate">\(A = 5\)</span> using npn transistor <a class="reference external" href="https://www.sparkfun.com/datasheets/Components/2N3904.pdf">2N3904</a> and a voltage supply of
<span class="math notranslate">\(V_{CC} = 5V\)</span>.</p>
<p>For the npn transistor 2N3904 we can assume that <span class="math notranslate">\(\beta = 100\)</span> and
<span class="math notranslate">\(v_{CE_{sat}} = 0.2 V\)</span>. First step is to set DC operating point
by deciding voltages across <span class="math notranslate">\(R_L\)</span>, <span class="math notranslate">\(R_E\)</span> and <span class="math notranslate">\(Q_1\)</span>.</p>
<div class="math notranslate">
\[V_{R_L}+(V_{CE}+v_{CE_{sat}})+V_{R_E} = V_{CC}  \quad  (1)\]</div>
<p>If we take into account <span class="math notranslate">\(v_{CE_{sat}}\)</span> and 1/3 ratio of
voltages on <span class="math notranslate">\(R_L\)</span>, <span class="math notranslate">\(R_E\)</span> and <span class="math notranslate">\(Q_1\)</span> we get following:</p>
<div class="math notranslate">
\[1.6 V + 1.6 V + 0.2 V + 1.6 V = 5 V  \quad (2)\]</div>
<p>From desired value of gain <span class="math notranslate">\(A\)</span> we can calculate <span class="math notranslate">\(R_L\)</span>
using Eqs. (3) – (7)</p>
<div class="math notranslate">
\[A  = \beta \frac{R_{out}}{R_{in}}.  \quad (3)\]</div>
<p>where <span class="math notranslate">\(R_{out}\)</span> is the resistor connected in series with the
collector and <span class="math notranslate">\(R_{in}\)</span> is the resistor connected in series
with the base.</p>
<div class="math notranslate">
\[R_{out} = R_L  \quad \text{and,} \quad R_{in} = R_{B} \quad (4)\]</div>
<p>It follows:</p>
<div class="math notranslate">
\[A  = \beta \frac{R_L}{R_B}   \quad (5)\]</div>
<p>In this step we need to <strong>set current ratings of our amplifier</strong>
i.e we need to choose <span class="math notranslate">\(I_C\)</span> to calculate <span class="math notranslate">\(R_L\)</span>.</p>
<p>Let’s set <span class="math notranslate">\(I_C = 5 mA\)</span>, then</p>
<div class="math notranslate">
\[R_L =  \frac{V_{R_L}}{I_C} = \frac{1.6V}{5mA} =  320 \Omega   \quad (6)\]</div>
<p>In order to satisfy Eq. (2) it follows that:</p>
<div class="math notranslate">
\[R_E = R_L, \quad  \text{i.e.} \quad R_E = \frac{V_{R_L}}{I_C} = 320  \Omega. \quad (7)\]</div>
<p>Now we can calculate <span class="math notranslate">\(R_{in}\)</span> i.e <span class="math notranslate">\(R_{B}\)</span> value as:</p>
<div class="math notranslate">
\[R_{B} = \beta \frac{R_L}{A} = 100 \frac{320 \Omega }{5} = 6.4k \Omega. \quad (8)\]</div>
<p>The last step is to calculate values of DC bias resistors
<span class="math notranslate">\(R_1\)</span> and <span class="math notranslate">\(R_2\)</span>. <span class="math notranslate">\(R_2\)</span> can be obtained from
“cookbook” relation given in Eq. (9) and therefore <span class="math notranslate">\(R_1\)</span>
can be calculated from Eq. (10).</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}R_2 &amp;\approx 10 R_E  \quad (9)\\R_2 &amp;= 3.2 k \Omega\end{aligned}\end{align} \]</div>
<div class="math notranslate">
\[R_1 = \frac{V_{CC} - (v_{BE}+V_{R_E})}{\frac{(v_{BE}+V_{R_E})}{R_2}}  \quad (10)\]</div>
<p>where <span class="math notranslate">\(v_{BE} = 0.6 V\)</span></p>
<div class="math notranslate">
\[R_1 = \frac{5V - (0.6V+1.6V)}{ \frac{(0.6V + 1.6V)}{3.2k \Omega}} = 4.0k \Omega\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Above shown calculation of the common emitter amplifier should be
use as a guideline and not as a definitive design blueprint. The
reason for this is that in majority of cases calculated values of
the resistors will be outside of the resistors values available on
the market. Therefore resistor values should be rounded or changed
in order to fit them to the closes values of commonly available
resistors. It is a good practice to set <span class="math notranslate">\(R_1\)</span> and
<span class="math notranslate">\(R_B\)</span> as potentiometer since with this two resistors we can
manually tune the amplifier. Tuning the amplifier is necessary
since transistors can differ from each other.</p>
<p class="last">Selecting the values of capacitors <span class="math notranslate">\(C_1\)</span>, <span class="math notranslate">\(C_2\)</span> and
<span class="math notranslate">\(C_E\)</span> is done by using high value capacitors while the
maximum voltage rating of the capacitors must be larger than
<span class="math notranslate">\(V_{CC}\)</span>. Commonly an electrolytic capacitors are used
in ranges of <span class="math notranslate">\(\mu F\)</span>. If we want to bring (emitter - gnd)
impedance (for AC) close to zero then <span class="math notranslate">\(C_E\)</span> must be large as
possible. Also <span class="math notranslate">\(C_1\)</span> , <span class="math notranslate">\(C_2\)</span>  should be large to
prevent large voltage drops across them.</p>
</div>
</div>
<div class="section" id="materials">
<h2>26.5. Materials<a class="headerlink" href="#materials" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Red Pitaya STEMlab</li>
<li>2x 470Ω Resistor</li>
<li>2x 10kΩ Resistor</li>
<li>1x 10kΩ Trimer</li>
<li>1x 1kΩ Resistor</li>
<li>1x 10uF Capacitor</li>
<li>2x 4.7uF Capacitor</li>
<li>1x small signal npn transistor (<a class="reference external" href="https://www.sparkfun.com/datasheets/Components/2N3904.pdf">2N3904</a>)</li>
<li>1x Solder-less Breadboard</li>
</ul>
</div>
<div class="section" id="procedure">
<h2>26.6. Procedure<a class="headerlink" href="#procedure" title="Permalink to this headline">¶</a></h2>
<p>Following calculations and guidelines above we have built common
emitter amplifier shown in figure 2. We had an <span class="math notranslate">\(470 \Omega\)</span>
resistors available and those resistors where used for <span class="math notranslate">\(R_L\)</span> and
<span class="math notranslate">\(R_E\)</span>. After selecting the <span class="math notranslate">\(R_L\)</span> and <span class="math notranslate">\(R_E\)</span> the other
components have been calculated and selected.</p>
<img alt="_images/Activity_26_Figure_2.png" src="_images/Activity_26_Figure_2.png" />
<p>Figure 2: Common emitter amplifier with components values</p>
<ol class="arabic simple">
<li>Build the circuit on from figure 2 on the breadboard.</li>
</ol>
<img alt="_images/Activity_26_Figure_3.png" src="_images/Activity_26_Figure_3.png" />
<p>Figure 3: Common emitter amplifier on the breadboard</p>
<ol class="arabic simple" start="2">
<li>Start the Oscilloscope &amp; Signal generator application</li>
<li>In the OUT1 settings menu set Amplitude value to 0.1V, DC offset to
0 V  and frequency to 10kHz to apply the input voltage. From the
waveform menu select SINE, deselect SHOW button and select enable.</li>
<li>On the left bottom of the screen be sure that  IN1 and IN2 V/div
are set to 200mV/div (You can set V/div by selecting the desired
channel and using vertical +/- controls)</li>
<li>Set t/div value to 20us/div (You can set t/div using horizontal +/-
controls)</li>
<li>In the trigger menu settings and select NORMAL</li>
<li>In the measurements menu select P2P for IN1 and IN2</li>
</ol>
<img alt="_images/Activity_26_Figure_4.png" src="_images/Activity_26_Figure_4.png" />
<p>Figure 4: Common emitter amplifier measurements</p>
<p>On figure 3 the measurements of the common emitter amplifier is
shown. From the P2P measurements we can calculate achieved gain and it
is approximately  <span class="math notranslate">\(A \approx 9\)</span>.</p>
</div>
<div class="section" id="questions">
<h2>26.7. Questions<a class="headerlink" href="#questions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Try to change value of <span class="math notranslate">\(R_{B_{pot}}\)</span> and observe the change
in the gain?</li>
<li>What is the maximum voltage swing of the output signal?</li>
<li>Increase OUT1 frequency and try to measure amplifier bandwidth.</li>
</ol>
<p>For question 2 follow next:</p>
<p>Set the <strong>IN2 scope probe to x10, in the IN2 menu set probe
attenuation to 10</strong>  and increase OUT1 amplitude to 0.2V. What is the
P2P value of the IN2?</p>
<p>With gain <span class="math notranslate">\(A = 9\)</span>, input signal P2P amplitude 0.4V the output
P2P(IN2) value should be <span class="math notranslate">\(0.4 \times 9 = 3.6 V\)</span> ! But it is not?
Signal is cut off! Can you explain why?</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">Check the calculations above and voltages across <span class="math notranslate">\(V_{CE}\)</span></p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Activity27_MOSCommonSourceAmplifier.html" class="btn btn-neutral float-right" title="27. MOS transistor common source amplifier" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Activity25_MOSasSwitch.html" class="btn btn-neutral" title="25. MOSFET transistor as a switch" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Red Pitaya d.d..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>