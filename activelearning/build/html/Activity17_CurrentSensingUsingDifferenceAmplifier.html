

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>17. Current Sensing using a Difference Amplifier &mdash; Red Pitaya 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Red Pitaya 1.0 documentation" href="index.html"/>
        <link rel="next" title="18. The Comparator, Positive Feedback and Schmitt Trigger" href="Activity18_TheComparatorSchmittTrigger.html"/>
        <link rel="prev" title="16. Difference Amplifier" href="Activity16_DifferenceAmplifier.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Red Pitaya
          

          
            
            <img src="_static/RedPitayaLogo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Activity01_Phase.html">1. What is Phase?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity02_Kirchhoff.html">2. Kirchhoff’s Voltage and Current Laws</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity03_Voltage.html">3. Voltage Division</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity04_Proportionality.html">4. Proportionality and Superposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity05_Thevenin.html">5. Thévenin Equivalent Circuit and Maximum Power Transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity06_ResponseRC.html">6. Transient Response of RC Circuit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity07_ResponseRL.html">7. Transient Response of an RL Circuit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity08_ResonanceRCL.html">8. Resonance in RLC Circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity09_LowPassandHighPassFilters.html">9. Low Pass and High Pass Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity10_BandPassFilters.html">10. Band Pass Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity11_ImpedanceMeasurementFrequencyEffects.html">11. Impedance Measurement - Frequency Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity12_MeasuringaLoudspeakerImpedanceProfile.html">12. Measuring a Loudspeaker Impedance Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity13_BasicOPAmpConfigurations.html">13. Basic OP Amp Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity14_OPAMPOpenLoopGain.html">14. OPAMP Open Loop Gain</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity15_OpAmpGainBandwidthProduct.html">15. OPAMP Gain Bandwidth Product <span class="math notranslate">\(GBW\)</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity16_DifferenceAmplifier.html">16. Difference Amplifier</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">17. Current Sensing using a Difference Amplifier</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#objective">17.1. Objective</a></li>
<li class="toctree-l2"><a class="reference internal" href="#notes">17.2. Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#background">17.3. Background</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#in-our-example-we-have">17.3.1. <strong>In our example we have</strong></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#materials">17.4. Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#directions">17.5. Directions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#procedure">17.6. Procedure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#resistor-load">17.6.1. Resistor LOAD</a></li>
<li class="toctree-l3"><a class="reference internal" href="#capacitance-load">17.6.2. Capacitance LOAD</a></li>
<li class="toctree-l3"><a class="reference internal" href="#inductive-load">17.6.3. Inductive LOAD</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Activity18_TheComparatorSchmittTrigger.html">18. The Comparator, Positive Feedback and Schmitt Trigger</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity19_Diodes.html">19. Diodes and Jupyter Notebook example</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity20_DiodeRectifiers.html">20. Diode Rectifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity21_PrecisionRectifiers.html">21. Precision Rectifiers, Absolute value circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity22_TheBJTasDiode.html">22. The BJT transistor connected as a diode</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity23_TheMOSAsDiode.html">23. The MOS transistor connected as a diode</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity24_TheBJTasSwitch.html">24. BJT transistor as a switch</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity25_MOSasSwitch.html">25. MOSFET transistor as a switch</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity26_BJTCommonEmitterAmplifier.html">26. BJT Common Emitter Amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity27_MOSCommonSourceAmplifier.html">27. MOS transistor common source amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity28_BoostConverter.html">28. DC-DC Boost Converter</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Red Pitaya</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>17. Current Sensing using a Difference Amplifier</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Activity17_CurrentSensingUsingDifferenceAmplifier.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="current-sensing-using-a-difference-amplifier">
<h1>17. Current Sensing using a Difference Amplifier<a class="headerlink" href="#current-sensing-using-a-difference-amplifier" title="Permalink to this headline">¶</a></h1>
<div class="section" id="objective">
<h2>17.1. Objective<a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h2>
<p>The objective of this lab activity is to investigate current sensing techniques that use an op-amp configured as a difference amplifier.</p>
</div>
<div class="section" id="notes">
<h2>17.2. Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>In this tutorials we use the terminology taken from the user manual when referring to the connections to the Red Pitaya STEMlab board <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/developerGuide/125-10/top.html">hardware</a>.
Extension connector pins used for <strong>-3.3V</strong> and <strong>+3.3V</strong> voltage supply are show in the documentation <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/developerGuide/125-14/extent.html#extension-connector-e2">here</a>.
<a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/appsFeatures/apps-featured/oscSigGen/osc.html">Oscilloscope</a> &amp; <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/appsFeatures/apps-featured/oscSigGen/osc.html">Signal</a> <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/appsFeatures/apps-featured/oscSigGen/osc.html">generator</a> application is used for generating and observing signals on the circuit.</p>
</div>
<div class="section" id="background">
<h2>17.3. Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>We have investigated the <a class="reference external" href="http://red-pitaya-active-learning.readthedocs.io/en/latest/Activity16_DifferenceAmplifier.html#difference-amplifier">difference</a> <a class="reference external" href="http://red-pitaya-active-learning.readthedocs.io/en/latest/Activity16_DifferenceAmplifier.html#difference-amplifier">amplifier</a>. Now we will use it as a current sense amplifier. One of the major applications of the op-amp difference amplifier is in measuring the current at point in a circuit other than where it flows into or out of ground or the common node. The current to be measured is converted into a small voltage by breaking open the current path and inserting a low value resistor in series. This resistor is called a current shunt resistor or just shunt. The resistance is kept small and the voltage drop across the shunt small to reduce any effect this change might have on the operation of the circuit.
Current going through shunt resistor therefore path current is given as</p>
<div class="math notranslate">
\[I_{path} = I_{shunt} = \frac{\Delta V}{R_{shunt}} \quad (1)\]</div>
<p>Since differential voltage across resistor (given as <span class="math notranslate">\(\Delta V = V_{R_{shunt_{node_1}}}-V_{R_{shunt_{node_2}}})\)</span> should be measured we can see that a difference amplifier is an ideal circuit for that task. The small differential voltage drop across the shunt is amplified and converted to a single ended (common referenced) voltage by an op-amp difference amplifier.</p>
<img alt="_images/Activity_17_Figure_1.png" src="_images/Activity_17_Figure_1.png" />
<p>Figure 1: Basic Difference Amplifier in current sensing configuration</p>
<p>From the figure 1 we know that differential voltage <span class="math notranslate">\(\Delta V\)</span> given as <span class="math notranslate">\(\Delta V = I_L R_s\)</span> is carrying information about LOAD current. Also from <a class="reference external" href="http://red-pitaya-active-learning.readthedocs.io/en/latest/Activity16_DifferenceAmplifier.html#difference-amplifier">difference</a> <a class="reference external" href="http://red-pitaya-active-learning.readthedocs.io/en/latest/Activity16_DifferenceAmplifier.html#difference-amplifier">amplifier</a> theory we know that <span class="math notranslate">\(\Delta V\)</span> will be somehow related to the <span class="math notranslate">\(V_{out}\)</span>.
First assumption is as following:</p>
<div class="math notranslate">
\[V_{out} \propto \Delta V = I_L R_s  \quad (1)\]</div>
<p>or,</p>
<div class="math notranslate">
\[I_L \propto \frac{V_{out}}{R_s}\]</div>
<div class="math notranslate">
\[\]</div>
<p>In other words; simply by measuring and scaling <span class="math notranslate">\(V_{out}\)</span> we will measure load current,
where <span class="math notranslate">\(R_{s}\)</span> is shunnt resistor.
Transfer characteristic of <a class="reference external" href="http://red-pitaya-active-learning.readthedocs.io/en/latest/Activity16_DifferenceAmplifier.html#difference-amplifier">difference</a> <a class="reference external" href="http://red-pitaya-active-learning.readthedocs.io/en/latest/Activity16_DifferenceAmplifier.html#difference-amplifier">amplifier</a>  for circuit shown on figure 1 is:</p>
<div class="math notranslate">
\[V_{out} = V_+ \bigg( 1 + \frac{R_2}{R_1} \bigg) - V_- \bigg(\frac{R_2}{R_1} \bigg) \quad (2)\]</div>
<p>Where <span class="math notranslate">\(V_{+}\)</span> and <span class="math notranslate">\(V_{-}\)</span> are voltages on noninverting(pin 3) and inverting(pin 2) opamp inputs respectively.
Substituting <span class="math notranslate">\(V_{+}\)</span> and <span class="math notranslate">\(V_{-}\)</span> for voltages on shunt resistor nodes we get</p>
<div class="math notranslate">
\[V_{out} = V_S \bigg( \frac{R_4}{R_3+R_4}\bigg) \bigg( 1 + \frac{R_2}{R_1} \bigg) - V_L \bigg(\frac{R_2}{R_1} \bigg) \quad (3)\]</div>
<p>where <span class="math notranslate">\(V_S\)</span> is source voltage and <span class="math notranslate">\(V_L\)</span> load voltage. We can also write</p>
<div class="math notranslate">
\[V_S = V_{R_{shunt_{node_1}}} \quad V_L = V_{R_{shunt_{node_2}}}\]</div>
<p>and</p>
<div class="math notranslate">
\[V_S = V_L + \Delta V  \quad   \Delta V= V_S - V_L\]</div>
<p>On the first look, by adding resistor <span class="math notranslate">\(R_4\)</span>  to the circuit, shown on figure 1, somehow we have complicated transfer function; from equation (2) to equation (3).
But adding <span class="math notranslate">\(R_4\)</span>  is necessary in order to equalize factor <span class="math notranslate">\(1+R_2/R_1\)</span> to the factor <span class="math notranslate">\(R_2/R_1\)</span> from the equation (2) in order to get opamp input voltages equally amplified and therefore enabling  simple <span class="math notranslate">\(\Delta V\)</span>  to <span class="math notranslate">\(V_{out}\)</span> correlation.
The important step is to select values of <span class="math notranslate">\(R_3\)</span> and <span class="math notranslate">\(R_4\)</span> as</p>
<div class="math notranslate">
\[R_4=R_2  \quad   R_3=R_1\]</div>
<p>Using identities above we can write equation (3) as</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}V_{out} = V_S \bigg( \frac{R_2}{R_1+R_2}\bigg) \bigg( 1 + \frac{R_2}{R_1} \bigg) - V_L \bigg(\frac{R_2}{R_1} \bigg) \quad (4)\\.\\V_{out} = V_S \bigg( \frac{R_2}{R_1+R_2} + \frac{R_2R_2}{R_1(R_1+R_2)} \bigg) - V_L \bigg(\frac{R_2}{R_1} \bigg)\end{aligned}\end{align} \]</div>
<p>It holds that</p>
<div class="math notranslate">
\[\bigg( \frac{R_2}{R_1+R_2} + \frac{R_2R_2}{R_1(R_1+R_2)} \bigg) = \frac{R_2}{R_1}\]</div>
<p>So we can write equation (4) simple as:</p>
<div class="math notranslate">
\[V_{out} = V_S \bigg(\frac{R_2}{R_1} \bigg) - V_L \bigg(\frac{R_2}{R_1} \bigg) \quad (5)\]</div>
<p>Now we have simple equation (5) for our difference amplifier form figure 1 and the last step is to rewrite it in terms of  <span class="math notranslate">\(\Delta V\)</span> i.e in terms of <span class="math notranslate">\(I_L\)</span></p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}V_{out} = \bigg(\frac{R_2}{R_1} \bigg) (V_S- V_L)\\    .\\V_{out} = \frac{R_2}{R_1} \Delta V\\.\\V_{out} =  \frac{R_2}{R_1}  I_L R_S \quad (6)\end{aligned}\end{align} \]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>And for <span class="math notranslate">\(I_L\)</span> we get:</p>
<div class="last math notranslate">
\[I_L = V_{out} \frac{R_1}{R_2 R_S}  \quad (7)\]</div>
</div>
<div class="section" id="in-our-example-we-have">
<h3>17.3.1. <strong>In our example we have</strong><a class="headerlink" href="#in-our-example-we-have" title="Permalink to this headline">¶</a></h3>
<div class="math notranslate">
\[R_4=R_2 = 100k \Omega , \quad  R_3=R_1 10k \Omega , \quad R_2/R_1=10 , \quad R_S = R_5 = 10 \Omega , \quad I_L = \frac{V_{out}}{10 R_S}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>In our example load current is given as</strong></p>
<blockquote class="last">
<div><div class="math notranslate">
\[I_L = \frac{V_{out}}{100}  \quad (8)\]</div>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="materials">
<h2>17.4. Materials<a class="headerlink" href="#materials" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Red Pitaya STEMlab</li>
<li>OPAMP:     1x <a class="reference external" href="http://www.analog.com/media/en/technical-documentation/data-sheets/OP184_284_484.pdf">OP484</a> quad rail to rail amplifier</li>
<li>Resistor:  3x 10 <span class="math notranslate">\(k \Omega\)</span></li>
<li>Resistor:  1x 100 <span class="math notranslate">\(k \Omega\)</span></li>
<li>Resistor:  1x 10 <span class="math notranslate">\(\Omega\)</span></li>
<li>Resistor:  1x 220 <span class="math notranslate">\(\Omega\)</span></li>
<li>Capacitor: 1x 0.1 <span class="math notranslate">\(\mu F\)</span></li>
<li>Inductor:  1x 4.7 <span class="math notranslate">\(mH\)</span></li>
</ul>
</div>
<div class="section" id="directions">
<h2>17.5. Directions<a class="headerlink" href="#directions" title="Permalink to this headline">¶</a></h2>
<p>Build the current sense amplifier shown in figure 2. R6 is added to stabilize the output of the OP484. When using large feedback resistances the OP484 can be unstable due to the large input capacitance of the IN2 input. <span class="math notranslate">\(V_{S}\)</span> is provided directly from the OUT1 STEMlab output as “power supply” for the LOAD.
The load will consist of different impedances such as a resistor, capacitor or inductor.
IN2 input voltage signal will directly show load current as is shown in the equation 8.</p>
<img alt="_images/Activity_17_Figure_2.png" src="_images/Activity_17_Figure_2.png" />
<p>Figure 2: Difference Amplifier circuit for current sensing</p>
<p>Components values are next:</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}R_4=R_2 = 100k \Omega , \quad  R_3=R_1 = 10k \Omega ,  \quad R_S = R_5 = 10 \Omega , \quad R_6 = 220 \Omega ,\\\quad C_1 = 0.1 \mu F , \quad \quad L_1 = 4.7 mH\end{aligned}\end{align} \]</div>
</div>
<div class="section" id="procedure">
<h2>17.6. Procedure<a class="headerlink" href="#procedure" title="Permalink to this headline">¶</a></h2>
<div class="section" id="resistor-load">
<h3>17.6.1. Resistor LOAD<a class="headerlink" href="#resistor-load" title="Permalink to this headline">¶</a></h3>
<p>For LOAD take  <span class="math notranslate">\(470 \Omega\)</span>  resistor and build circuit shown on figure 2.</p>
<img alt="_images/Activity_17_Figure_3.png" src="_images/Activity_17_Figure_3.png" />
<p>Figure 3: Difference Amplifier circuit for current sensing - Resistive LOAD</p>
<ol class="arabic simple">
<li>Start the Oscilloscope &amp; Signal Generator application.</li>
<li>In the OUT1 settings menu set Amplitude value to 0.5V to apply a sine wave as the input voltage <span class="math notranslate">\(V_{source}\)</span>. From the waveform menu select SINE,
deselect SHOW button and select  enable.</li>
<li>For the stable acquisition set the trigger source to IN1</li>
<li>On the left bottom of the screen be sure that  IN1 V/div is set to 200mV/div (You can set V/div by selecting the desired channel and using vertical +/- controls)</li>
<li>On the left bottom of the screen be sure that  IN2 V/div is set to 50mV/div (You can set V/div by selecting the desired channel and using vertical +/- controls)</li>
<li>In the measurement menu select “MAX” , select IN1 and press DONE</li>
<li>In the measurement menu select “MAX” , select IN2 and press DONE</li>
<li>Set t/div value to 200us/div (You can set t/div using horizontal +/- controls)</li>
<li>Readout measurements of IN2 and calculate load current using equation (8)</li>
</ol>
<img alt="_images/Activity_17_Figure_4.png" src="_images/Activity_17_Figure_4.png" />
<p>Figure 4: Resistive LOAD current measurements</p>
<p>From the measurements from figure 4 we can calculate max load current as:</p>
<div class="math notranslate">
\[I_L = \frac{IN2_{max}}{100} = \frac{108.0mV}{100} = 1.08mA\]</div>
<p>We can check our measurements by calculating load current as</p>
<div class="math notranslate">
\[I_L = \frac{OUT1_{max}}{R_{load} + R_s } = \frac{0.5V}{470 \Omega+10 \Omega} = 1.04mA\]</div>
<p>We can see that measured current is as what we expected confirming correct behaviour of our difference amplifier.
The difference of 0.04mA between exact and measured value of load current comes from  nominal tolerances values of load and shunt resistors.</p>
</div>
<div class="section" id="capacitance-load">
<h3>17.6.2. Capacitance LOAD<a class="headerlink" href="#capacitance-load" title="Permalink to this headline">¶</a></h3>
<p>For LOAD take  <span class="math notranslate">\(0.1 \mu F\)</span> capacitor and build circuit shown on figure 2.</p>
<img alt="_images/Activity_17_Figure_5.png" src="_images/Activity_17_Figure_5.png" />
<p>Figure 5: Capacitance  LOAD</p>
<img alt="_images/Activity_17_Figure_6.png" src="_images/Activity_17_Figure_6.png" />
<p>Figure 6: Capacitance LOAD current measurements</p>
<p>From the measurements from figure 6 we can calculate max load current as:</p>
<div class="math notranslate">
\[I_L = \frac{IN2_{max}}{100} = \frac{36.5mV}{100} = 0.36mA\]</div>
<p>We can check our measurements by calculating load current as</p>
<div class="math notranslate">
\[I_L = \frac{OUT1_{max}}{Z_{load} + R_s } = \frac{OUT1_{max}}{\frac{1}{2 \pi f_{OUT_1} C_1}  + R_s } = \frac{0.5V}{1592 \Omega+10 \Omega} = 0.31mA\]</div>
</div>
<div class="section" id="inductive-load">
<h3>17.6.3. Inductive LOAD<a class="headerlink" href="#inductive-load" title="Permalink to this headline">¶</a></h3>
<p>For LOAD take  <span class="math notranslate">\(4.7 mH\)</span> inductor and build circuit shown on figure 2.</p>
<img alt="_images/Activity_17_Figure_7.png" src="_images/Activity_17_Figure_7.png" />
<p>Figure 7: Inductive LOAD</p>
<ol class="arabic simple">
<li>In the OUT1 settings menu set Amplitude value to 0.2V</li>
<li>On the left bottom of the screen be sure that  IN1 V/div is set to 50mV/div (You can set V/div by selecting the desired channel and using vertical +/- controls)</li>
<li>On the left bottom of the screen be sure that  IN2 V/div is set to 500mV/div (You can set V/div by selecting the desired channel and using vertical +/- controls)</li>
</ol>
<img alt="_images/Activity_17_Figure_8.png" src="_images/Activity_17_Figure_8.png" />
<p>Figure 8: Inductive LOAD current measurements</p>
<p>From the measurements from figure 8 we can calculate max load current as:</p>
<div class="math notranslate">
\[I_L = \frac{IN2_{max}}{100} = \frac{620mV}{100} = 6.2mA\]</div>
<p>We can check our measurements by calculating load current as</p>
<div class="math notranslate">
\[I_L = \frac{OUT1_{max}}{Z_{load} + R_s } = \frac{OUT1_{max}}{2 \pi f_{OUT_1} L_1  + R_s } = \frac{0.2V}{30 \Omega+10 \Omega} = 5.0mA\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At inductive load we have largest difference in measurements. Try to explain why.
Hint. parasitics, series resistance of an inductor.</p>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Activity18_TheComparatorSchmittTrigger.html" class="btn btn-neutral float-right" title="18. The Comparator, Positive Feedback and Schmitt Trigger" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Activity16_DifferenceAmplifier.html" class="btn btn-neutral" title="16. Difference Amplifier" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Red Pitaya d.d..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>