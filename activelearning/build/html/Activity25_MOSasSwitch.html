

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>25. MOSFET transistor as a switch &mdash; Red Pitaya 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Red Pitaya 1.0 documentation" href="index.html"/>
        <link rel="next" title="26. BJT Common Emitter Amplifier" href="Activity26_BJTCommonEmitterAmplifier.html"/>
        <link rel="prev" title="24. BJT transistor as a switch" href="Activity24_TheBJTasSwitch.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Red Pitaya
          

          
            
            <img src="_static/RedPitayaLogo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Activity01_Phase.html">1. What is Phase?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity02_Kirchhoff.html">2. Kirchhoff’s Voltage and Current Laws</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity03_Voltage.html">3. Voltage Division</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity04_Proportionality.html">4. Proportionality and Superposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity05_Thevenin.html">5. Thévenin Equivalent Circuit and Maximum Power Transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity06_ResponseRC.html">6. Transient Response of RC Circuit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity07_ResponseRL.html">7. Transient Response of an RL Circuit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity08_ResonanceRCL.html">8. Resonance in RLC Circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity09_LowPassandHighPassFilters.html">9. Low Pass and High Pass Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity10_BandPassFilters.html">10. Band Pass Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity11_ImpedanceMeasurementFrequencyEffects.html">11. Impedance Measurement - Frequency Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity12_MeasuringaLoudspeakerImpedanceProfile.html">12. Measuring a Loudspeaker Impedance Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity13_BasicOPAmpConfigurations.html">13. Basic OP Amp Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity14_OPAMPOpenLoopGain.html">14. OPAMP Open Loop Gain</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity15_OpAmpGainBandwidthProduct.html">15. OPAMP Gain Bandwidth Product <span class="math notranslate">\(GBW\)</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity16_DifferenceAmplifier.html">16. Difference Amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity17_CurrentSensingUsingDifferenceAmplifier.html">17. Current Sensing using a Difference Amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity18_TheComparatorSchmittTrigger.html">18. The Comparator, Positive Feedback and Schmitt Trigger</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity19_Diodes.html">19. Diodes and Jupyter Notebook example</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity20_DiodeRectifiers.html">20. Diode Rectifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity21_PrecisionRectifiers.html">21. Precision Rectifiers, Absolute value circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity22_TheBJTasDiode.html">22. The BJT transistor connected as a diode</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity23_TheMOSAsDiode.html">23. The MOS transistor connected as a diode</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity24_TheBJTasSwitch.html">24. BJT transistor as a switch</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">25. MOSFET transistor as a switch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#objective">25.1. Objective</a></li>
<li class="toctree-l2"><a class="reference internal" href="#notes">25.2. Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#background">25.3. Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="#materials">25.4. Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#procedure">25.5. Procedure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Activity26_BJTCommonEmitterAmplifier.html">26. BJT Common Emitter Amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity27_MOSCommonSourceAmplifier.html">27. MOS transistor common source amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity28_BoostConverter.html">28. DC-DC Boost Converter</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Red Pitaya</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>25. MOSFET transistor as a switch</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Activity25_MOSasSwitch.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mosfet-transistor-as-a-switch">
<h1>25. MOSFET transistor as a switch<a class="headerlink" href="#mosfet-transistor-as-a-switch" title="Permalink to this headline">¶</a></h1>
<div class="section" id="objective">
<h2>25.1. Objective<a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h2>
<p>A MOS FET (NMOS) device can be used in many circuit configurations such as an amplifier, oscillator, filter, rectifier or just used as an on-off switch. If the FET is biased into the saturation region, it will operate as an amplifier or other linear circuit, if biased alternately in the linear (triode) region and cut-off region, then it is being used as a switch, allowing current to flow or not to flow in other parts of the circuit. This lab activity describes the NMOS device when operated as a switch.</p>
</div>
<div class="section" id="notes">
<h2>25.2. Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>In this tutorials we use the terminology taken from the user manual when referring to the connections to the Red Pitaya STEMlab board <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/developerGuide/125-10/top.html">hardware</a>.
<a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/appsFeatures/apps-featured/oscSigGen/osc.html">Oscilloscope</a> &amp; <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/appsFeatures/apps-featured/oscSigGen/osc.html">Signal</a> <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/appsFeatures/apps-featured/oscSigGen/osc.html">generator</a> application is used for generating and observing signals on the circuit.
Extension connector pins used for <strong>+5V</strong>, <strong>-3.3V</strong> and <strong>+3.3V</strong> voltage supply are show in the documentation <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/developerGuide/125-14/extent.html#extension-connector-e2">here</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Red Pitaya STEMlab outputs can generate voltage signals with maximal output range of +/- 1V (2Vpp). For this experiment the higher signal amplitudes are required in order “turn on” NMOS transistor (<span class="math notranslate">\(V_{TH}\)</span> voltage). Because of that we will use an <a class="reference external" href="http://www.analog.com/media/en/technical-documentation/data-sheets/OP184_284_484.pdf">OP484</a> in the <a class="reference external" href="http://red-pitaya-active-learning.readthedocs.io/en/latest/Activity13_BasicOPAmpConfigurations.html#inverting-amplifier">inverting</a> opamp configuration to enable OUT1/OUT2 signal amplification achieving voltage swing between +4.7V  to -3.2V. An OP484 will be supplied from STEMlab +5V and -3.3V voltage rails. Gain of the inverting amplifier will be set to ~5, where <span class="math notranslate">\(R_i  = 2.2k \Omega\)</span> and <span class="math notranslate">\(R_f  = 10k \Omega\)</span>.
Try to answer why we have used an OP484 instead for example OP27 or OP97. (hint “rail-to-rail”).</p>
</div>
</div>
<div class="section" id="background">
<h2>25.3. Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>Switching circuits are significantly different than linear circuits. They are also easier to understand. Before investigating more complex circuits, we will begin by introducing discrete solid-state switching circuits: those built around NMOS devices.</p>
<p>A switch consists of a NMOS transistor that is alternately driven between the triode and cutoff regions. A simple version of the switch is shown in figure 1. When the input equals <span class="math notranslate">\(-V_{in}\)</span>, the gate-source voltage is less than the threshold voltage (<span class="math notranslate">\(-V_{TH}\)</span>) or off so no current flows in the drain. This is illustrated by the red load line shown in the figure. When the NMOS is in cutoff, the circuit (ideally) has the following values:</p>
<div class="math notranslate">
\[V_{DS} = V_{DD} \quad \text{and} \quad I_D = 0  A \quad (1)\]</div>
<p>This state is similar to an open switch.
When the input equals <span class="math notranslate">\(V_{TH}\)</span>, the transistor is driven into the triode region and the following conditions occur:</p>
<div class="math notranslate">
\[V_{DS} \approx 0 \quad \text{and} \quad I_D = \frac{V_{DD}}{R_D} A \quad (2)\]</div>
<p>This state is similar to a closed switch connecting the bottom of <span class="math notranslate">\(R_D\)</span> to ground.</p>
<img alt="_images/Activity_25_Figure_1.png" src="_images/Activity_25_Figure_1.png" />
<p>Figure 1: NMOS FET switch and its load line</p>
<p>The characteristics for an enhancement mode NMOS switch assume that:</p>
<ol class="arabic simple">
<li><span class="math notranslate">\(-V_{in}\)</span> is low enough to drive the transistor into cutoff.</li>
<li><span class="math notranslate">\(+V_{in}\)</span> must be greater than <span class="math notranslate">\(V_{TH}\)</span> to drive the transistor into triode</li>
<li>The transistor is an ideal component.</li>
</ol>
<p>These conditions can be assured by designing the circuit so that:</p>
<ol class="arabic simple">
<li><span class="math notranslate">\(-V_{in} = V_{TH}\)</span></li>
<li><span class="math notranslate">\(+V_{in} = V_{TH}\)</span> (<span class="math notranslate">\(V_{DD}\)</span> is a good maximum)</li>
</ol>
<p>Condition 1 guarantees that the circuit is driven into the cutoff region by the input. Conditions 2 assure that the transistor will be driven
into the triode region.</p>
<p>An actual NMOS switch differs from the ideal switch in several aspects. In practice, even in cutoff there is some small leakage current through the transistor. Also, in triode, there is always some voltage dropped across the transistor’s internal resistance, <span class="math notranslate">\(R_{ON}\)</span>. Typically, this will be between 0.1 and 0.2 V in triode depending on the drain current and size of the device. These variations from the ideal are generally minor with a properly sized device, so we can assume near ideal conditions when analyzing or designing a NMOS switch circuit.</p>
<img alt="_images/Activity_25_Figure_2.png" src="_images/Activity_25_Figure_2.png" />
<p>Figure 2: NMOS LED switch</p>
</div>
<div class="section" id="materials">
<h2>25.4. Materials<a class="headerlink" href="#materials" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Red Pitaya STEMlab</li>
<li>1x 10kΩ Resistor</li>
<li>1x 100Ω Resistor</li>
<li>1x 5mm LED (any color)</li>
<li>1x small signal NMOS transistor <a class="reference external" href="http://www.redrok.com/MOSFET_ZVN2110A_100V_320mA_4O_Vth2.4_TO-92_ELine.pdf">ZVN211</a></li>
<li>1x Solder-less Breadboard</li>
</ul>
</div>
<div class="section" id="procedure">
<h2>25.5. Procedure<a class="headerlink" href="#procedure" title="Permalink to this headline">¶</a></h2>
<p>Tne common application for a NMOS (or any other) switch is to drive an LED. An LED driver is shown in figure 2. The driver shown in this figure is used to couple a low current part of the circuit to a relatively high current device (the LED). When the output from the low current circuit is low (0 V), the transistor is in cutoff and the LED is off. When the output from the low current circuit goes high (above <span class="math notranslate">\(V_{TH}\)</span>), the transistor is driven into triode and the LED lights. The driver is used because the low-current part of the circuit may not have the current capability to supply the 20 mA (typical) required to light the LED to full brightness.</p>
<ol class="arabic simple">
<li>Build the LED switch circuit shown in figure 2 on your solder-less breadboard. <span class="math notranslate">\(R_D\)</span> serves to limit the current that flows in the LED from the +5 V power
supply. The switch is controlled by the OUT1 voltage output amplified by OP484 inverting amplifier. Scope channel IN will display the voltage across the the LED as indicated on figure 2.</li>
<li>For <span class="math notranslate">\(R_D\)</span> take 100 <span class="math notranslate">\(\Omega\)</span> resistor. For <span class="math notranslate">\(R_G\)</span> take 10 <span class="math notranslate">\(k \Omega\)</span>. Gate resistor connected to the GND is a good practice in order to
prevent undesired transistor switching caused by static electricity.</li>
</ol>
<img alt="_images/Activity_25_Figure_3.png" src="_images/Activity_25_Figure_3.png" />
<p>Figure 3: NMOS LED switch on the breadboard</p>
<ol class="arabic simple" start="3">
<li>Start the Oscilloscope &amp; Signal generator application</li>
<li>In the OUT1 settings menu set Amplitude value to 0.5V, DC offset to -0.5 V, Frequency to 10Hz to apply the input voltage.
From the waveform menu select SQUARE, deselect SHOW and select enable.</li>
<li>On the left bottom of the screen be sure that  IN1 V/div is set to 2V/div and  IN2 is set to 1V/div (You can set V/div by selecting the desired
channel and using vertical +/- controls)</li>
<li>Set t/div value to 20ms/div (You can set t/div using horizontal +/- controls)</li>
<li>Under IN2 and IN1 menu settings set probe to x10 and vertical offset to 0.</li>
</ol>
<img alt="_images/Activity_25_Figure_4.png" src="_images/Activity_25_Figure_4.png" />
<p>Figure 4:  NMOS as a switch measurements</p>
<p>From figure 4 we can observe NMOS transistor behavior when it is operating as a switch. When the base voltage is “high” the transistor is “turned on” enabling current flow from +5V voltage rail trough diode to the GND. When current starts flowing the LED will blink.
In this “turned on” state we can see that IN2 (LED voltage do not goes to 0 V). This is is the affect of the forward drop down voltages of the LED diode and M1 transistor. From figure 4 we can measure this drop down voltage do be ~1.9V. Try to measure what amount of drop down voltage is caused by M1 and what amount by LED. When base voltage is “low” transistor is “turned off” disabling current flow therefore the LED voltage will be same as R1 i.e 5V.</p>
<p>We can observe “turn on event” of M1 by selecting TRIANGLE waveform of OUT1. From figure 5 we can see when Gate signal goes above <span class="math notranslate">\(V_{TH}\)</span> the transistor is turned on.</p>
<img alt="_images/Activity_25_Figure_5.png" src="_images/Activity_25_Figure_5.png" />
<p>Figure 5:  NMOS switching event</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Majority of NMOS transistor have <span class="math notranslate">\(V_{TH}\)</span> larger than 2V.</p>
</div>
<p>By switching IN2 scope probe to the M1 drain (D) pin we can measure voltage drop across the M1 transistor (Figure 6).</p>
<img alt="_images/Activity_25_Figure_6.png" src="_images/Activity_25_Figure_6.png" />
<p>Figure 6:  NMOS voltage drop.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">From M1 voltage drop try to calculate <span class="math notranslate">\(R_{ON}\)</span> of the NMOS <a class="reference external" href="http://www.redrok.com/MOSFET_ZVN2110A_100V_320mA_4O_Vth2.4_TO-92_ELine.pdf">ZVN211</a> transistor and compare the results with the values from datasheet.
Hint: Calculate current going trough M1, measure voltage drop on M1, calculate <span class="math notranslate">\(R_{ON}\)</span>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Transistor <span class="math notranslate">\(R_{ON}\)</span> parameter is crucial in high current application since power dissipation will be dependent on current flowing trough transistor and <span class="math notranslate">\(R_{ON}\)</span> value.</p>
<div class="last math notranslate">
\[P_{dis} = I^2_D R_{ON} \quad\]</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Activity26_BJTCommonEmitterAmplifier.html" class="btn btn-neutral float-right" title="26. BJT Common Emitter Amplifier" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Activity24_TheBJTasSwitch.html" class="btn btn-neutral" title="24. BJT transistor as a switch" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Red Pitaya d.d..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>