

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8. Resonance in RLC Circuits &mdash; Red Pitaya 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Red Pitaya 1.0 documentation" href="index.html"/>
        <link rel="next" title="9. Low Pass and High Pass Filters" href="Activity09_LowPassandHighPassFilters.html"/>
        <link rel="prev" title="7. Transient Response of an RL Circuit" href="Activity07_ResponseRL.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Red Pitaya
          

          
            
            <img src="_static/RedPitayaLogo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Activity01_Phase.html">1. What is Phase?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity02_Kirchhoff.html">2. Kirchhoff’s Voltage and Current Laws</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity03_Voltage.html">3. Voltage Division</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity04_Proportionality.html">4. Proportionality and Superposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity05_Thevenin.html">5. Thévenin Equivalent Circuit and Maximum Power Transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity06_ResponseRC.html">6. Transient Response of RC Circuit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity07_ResponseRL.html">7. Transient Response of an RL Circuit</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">8. Resonance in RLC Circuits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#objective">8.1. Objective</a></li>
<li class="toctree-l2"><a class="reference internal" href="#notes">8.2. Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#background">8.3. Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="#materials">8.4. Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#procedure">8.5. Procedure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#questions">8.6. Questions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Activity09_LowPassandHighPassFilters.html">9. Low Pass and High Pass Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity10_BandPassFilters.html">10. Band Pass Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity11_ImpedanceMeasurementFrequencyEffects.html">11. Impedance Measurement - Frequency Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity12_MeasuringaLoudspeakerImpedanceProfile.html">12. Measuring a Loudspeaker Impedance Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity13_BasicOPAmpConfigurations.html">13. Basic OP Amp Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity14_OPAMPOpenLoopGain.html">14. OPAMP Open Loop Gain</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity15_OpAmpGainBandwidthProduct.html">15. OPAMP Gain Bandwidth Product <span class="math notranslate">\(GBW\)</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity16_DifferenceAmplifier.html">16. Difference Amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity17_CurrentSensingUsingDifferenceAmplifier.html">17. Current Sensing using a Difference Amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity18_TheComparatorSchmittTrigger.html">18. The Comparator, Positive Feedback and Schmitt Trigger</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity19_Diodes.html">19. Diodes and Jupyter Notebook example</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity20_DiodeRectifiers.html">20. Diode Rectifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity21_PrecisionRectifiers.html">21. Precision Rectifiers, Absolute value circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity22_TheBJTasDiode.html">22. The BJT transistor connected as a diode</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity23_TheMOSAsDiode.html">23. The MOS transistor connected as a diode</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity24_TheBJTasSwitch.html">24. BJT transistor as a switch</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity25_MOSasSwitch.html">25. MOSFET transistor as a switch</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity26_BJTCommonEmitterAmplifier.html">26. BJT Common Emitter Amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity27_MOSCommonSourceAmplifier.html">27. MOS transistor common source amplifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity28_BoostConverter.html">28. DC-DC Boost Converter</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Red Pitaya</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>8. Resonance in RLC Circuits</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Activity08_ResonanceRCL.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="resonance-in-rlc-circuits">
<h1>8. Resonance in RLC Circuits<a class="headerlink" href="#resonance-in-rlc-circuits" title="Permalink to this headline">¶</a></h1>
<div class="section" id="objective">
<h2>8.1. Objective<a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h2>
<p>The objective of this Lab activity is to study the phenomenon of resonance in RLC circuits. Determine the resonant frequency and bandwidth of the given network using the amplitude response to a sinusoidal source.</p>
</div>
<div class="section" id="notes">
<h2>8.2. Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>In this tutorials we use the terminology taken from the user manual when referring to the connections to the Red Pitaya STEMlab board <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/developerGuide/125-10/top.html">hardware</a>.
Oscilloscope &amp; Signal generator application is used for generating and observing signals on the circuit. <a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/appsFeatures/apps-featured/bode/bode.html">Bode</a> analyzer application is used to measure frequency response of RLC circuit.</p>
</div>
<div class="section" id="background">
<h2>8.3. Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>A resonant circuit, also called a tuned circuit consists of an inductor and a capacitor together with a voltage or current source. It is one of the most important circuits used in electronics. For example, a resonant circuit, in one of many forms, allows us to tune into a desired radio or television station from the vast number of signals that are around us at any time.</p>
<p>A network is in resonance when the voltage and current at the network input terminals are in phase and the input impedance of the network is purely resistive.</p>
<img alt="_images/Activity_8_Figure_1.png" src="_images/Activity_8_Figure_1.png" />
<p>Figure 1: Parallel Resonance Circuit</p>
<p>Consider the Parallel RLC circuit of figure 1. The steady-state admittance offered by the circuit is:</p>
<div class="math notranslate">
\[Y = \frac{1}{R} + j(ωC - \frac{1}{ωL})\]</div>
<p>Resonance occurs when the voltage and current at the input terminals are in phase. This corresponds to a purely real admittance, so that the necessary condition is given by:</p>
<div class="math notranslate">
\[ω C - \frac{1}{ω} L = 0\]</div>
<p>The resonant condition may be achieved by adjusting L, C, or ω. Keeping L and C constant, the resonant frequency ω_o is given by:</p>
<div class="math notranslate">
\[ω_o = \frac{1}{\sqrt{LC}} rad/s (1)\]</div>
<p>OR</p>
<div class="math notranslate">
\[f_o = \frac {1}{2 π \sqrt{LC}} Hertz  (2)\]</div>
<p>Frequency Response: It is a plot of the magnitude of the output Voltage of a resonance circuit as function of frequency. The response of course starts at zero, reaches a maximum value in the vicinity of the natural resonant frequency, and then drops again to zero as ω becomes infinite. The frequency response is shown in figure 2.</p>
<img alt="_images/Activity_8_Figure_2.png" src="_images/Activity_8_Figure_2.png" />
<p>Figure 2: Frequency Response of Parallel Resonant Circuit</p>
<p>The two additional frequencies ω :sub: <cite>1</cite> and ω <sub>2</sub> are also indicated which are called half-power frequencies. These frequencies locate those points on the curve at which the voltage response is 1/sqrt(2) or 0.707 times the maximum value. They are used to measure the band-width of the response curve. This is called the half-power bandwidth of the resonant circuit and is defined as:</p>
<div class="math notranslate">
\[ß = ω_2 - ω_1   (3)\]</div>
<img alt="_images/Activity_8_Figure_3.png" src="_images/Activity_8_Figure_3.png" />
<p>Figure 3: Series Resonance Circuit</p>
</div>
<div class="section" id="materials">
<h2>8.4. Materials<a class="headerlink" href="#materials" title="Permalink to this headline">¶</a></h2>
<p>Red Pitaya STEMlab 125-14 or STEMlab 125-10
Resistors 100 Ω, 1 KΩ
Capacitors 0.01 µF
Inductors 4.7 mH</p>
</div>
<div class="section" id="procedure">
<h2>8.5. Procedure<a class="headerlink" href="#procedure" title="Permalink to this headline">¶</a></h2>
<p>Additional Calculation:
Using one of the sw tools such is Matlab or Python we can calculate the impedance of the parallel RLC circuit from Figure 1.
The admittance(Y) of the parallel circuit is given in equation 1 above where impedance Z  is given as Z = 1 / Y.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In this calculation we take into account series resistance of the inductor. This resistance will affect the phase response of the RLC circuit at lower frequencies. Equation above are used for ideal components without parasitic elements. In the practice(measurements) we only have real elements and we need to take into account that inductor is not a pure inductance but also has a series resistance Rind.  Yind= 1/(Rind+i*2*Pi*f*L).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The resonance frequency is defined as the frequency at which the <a class="reference external" href="https://en.wikipedia.org/wiki/Electrical_impedance">impedance</a> of the circuit is at a minimum. Equivalently, it can be defined as the frequency at which the impedance is purely real (that is, purely resistive). This occurs because the impedances of the inductor and capacitor at resonance are equal but of opposite sign and cancel out. Circuits where L and C are in parallel rather than series actually have a maximum impedance rather than a minimum impedance. For this reason they are often described as <a class="reference external" href="https://en.wikipedia.org/wiki/Antiresonance">antiresonators</a>, it is still usual, however, to name the frequency at which this occurs as the resonance frequency.</p>
</div>
<p>Matlab code for calculation of Z is given below.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">close</span> <span class="n">all</span>
<span class="n">clear</span> <span class="n">all</span>
<span class="n">clc</span>
<span class="n">Rs</span><span class="p">=</span><span class="mi">100</span><span class="p">;</span>
<span class="n">R1</span><span class="p">=</span><span class="mf">1E3</span><span class="p">;</span>
<span class="n">L1</span><span class="p">=</span><span class="mf">4.7E-3</span><span class="p">;</span>
<span class="n">C1</span><span class="p">=</span><span class="mf">0.1E-6</span><span class="p">;</span>
<span class="n">Rind</span><span class="p">=</span><span class="mf">6.5</span><span class="p">;</span>       <span class="c">% inductor series resistance in Ohms</span>
<span class="n">Vin</span><span class="p">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">f</span><span class="p">=</span><span class="mi">100</span><span class="p">:</span><span class="mi">100</span><span class="p">:</span><span class="mf">1E6</span><span class="p">;</span>  <span class="c">% frequency range for calculation</span>

<span class="c">% calculation of Z</span>
<span class="n">Y1</span><span class="p">=</span><span class="mi">1</span><span class="o">/</span><span class="n">R1</span><span class="p">;</span>
<span class="n">Y2</span><span class="p">=</span><span class="nb">i</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">.*</span><span class="n">f</span><span class="o">*</span><span class="n">C1</span><span class="p">;</span>
<span class="n">Y3</span><span class="p">=</span><span class="mf">1.</span><span class="o">/</span><span class="p">(</span><span class="n">Rind</span><span class="o">+</span><span class="nb">i</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">.*</span><span class="n">f</span><span class="o">*</span><span class="n">L1</span><span class="p">);</span>
<span class="n">Y</span><span class="p">=</span><span class="n">Y1</span><span class="o">+</span><span class="n">Y2</span><span class="o">+</span><span class="n">Y3</span><span class="p">;</span>
<span class="n">Z</span><span class="p">=</span><span class="mf">1.</span><span class="o">/</span><span class="n">Y</span><span class="p">;</span>

<span class="c">% plotting</span>
<span class="n">ax</span><span class="p">=</span><span class="n">plotyy</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="nb">real</span><span class="p">(</span><span class="n">Z</span><span class="p">),</span><span class="n">f</span><span class="p">,</span><span class="nb">imag</span><span class="p">(</span><span class="n">Z</span><span class="p">),</span><span class="s">&#39;semilogx&#39;</span><span class="p">,</span><span class="s">&#39;semilogx&#39;</span><span class="p">);</span>
<span class="n">ylabel</span><span class="p">(</span><span class="n">ax</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="s">&#39;Real part of  Z / Ohms&#39;</span><span class="p">);</span>
<span class="n">ylabel</span><span class="p">(</span><span class="n">ax</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="s">&#39;Real part of  Z / Ohms&#39;</span><span class="p">);</span>
<span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Frequency / Hz&#39;</span><span class="p">);</span>
<span class="n">grid</span> <span class="n">on</span>
</pre></div>
</div>
<p>By running code above we get following results shown on picture bellow.</p>
<div class="figure" id="id1">
<img alt="_images/Activity_8_Figure_4.png" src="_images/Activity_8_Figure_4.png" />
<p class="caption"><span class="caption-text">Figure 34: Figure 4: Calculation of the Impedance Z of parallel RLC circuit.  Blue trace real/resistive part ot Z, green trace imaginary/reactive part of Z.</span></p>
</div>
<p>We can also calculate absolute value of Z which is the combined impedance of RLC circuit from Figure 1.  Absolute value of Impedance Z is the parameter form which we can predict what the measurements should look like.
We can model the circuit from Figure 8 as is shown on figure below where  Z = 1/Y and Y is given in equation 1.</p>
<div class="figure">
<img alt="_images/Activity_8_Figure_5.png" src="_images/Activity_8_Figure_5.png" />
</div>
<p>Figure 5: Representing parallel RLC circuit as a complex impedance Z</p>
<p>From figure 5 above we can clearly see that our circuit is simple voltage divider where
Vout=Vin*Z/(Rs+Z). But since the Z is frequency dependent the ratio between Z and Rs will be frequency dependent and with that the Vin/Vout ratio.
At some frequency f: where the value of  Z  is much smaller than value of Rs the output voltage amplitude will be much smaller than input voltage amplitude,
At some frequency f: where value of Z is much higher than value of Rs the output voltage amplitude will be close to the input voltage amplitude
At some frequency f:  where Z=Rs the Vout will be ½ Vin.
At some frequency f: where Z is maximal the Vout will be also maximal. This is the resonant frequency.</p>
<div class="figure">
<img alt="_images/Activity_8_Figure_6.png" src="_images/Activity_8_Figure_6.png" />
</div>
<p>Figure 6: Calculation of absolute value of impedance Z for the circuit shown on figure 3.</p>
<p>Using equations below,</p>
<p>Vout=Vin*Z/(Rs+Z)
Amplitude=20*Log(Vout/Vin)  - amplitude is given in decibels</p>
<p>we can calculate the frequency response of our RLC circuit shown in figure 5 and figure 8.</p>
<div class="figure">
<img alt="_images/Activity_8_Figure_7.png" src="_images/Activity_8_Figure_7.png" />
</div>
<p>Figure 7: Calculation of  frequency response (Vout/Vin) for circuit on figure 5.</p>
<p>Procedure:</p>
<ol class="arabic simple">
<li>Set up the RLC circuit as shown in figure 8 on your solderless breadboard, with the component values RS = 100 Ω, R1 = 1 KΩ, C1 = 0.1 µF and L1= 4.7 mH.</li>
</ol>
<div class="figure">
<img alt="_images/Activity_8_Figure_8.png" src="_images/Activity_8_Figure_8.png" />
</div>
<p>Figure 8: Parallel RLC circuit for the measurements.</p>
<ol class="arabic simple" start="2">
<li>Open the Bode analyzer application. In “Settings” menu set start frequency to 100Hz, end frequency to 1MHz and number of steps to 50. And Click “RUN” button.</li>
</ol>
<div class="figure" id="id2">
<img alt="_images/Activity_8_Figure_9.png" src="_images/Activity_8_Figure_9.png" />
<p class="caption"><span class="caption-text">Figure 39: Figure 9: Bode analyzer application</span></p>
</div>
<p>After the measurements are done you should get the frequency response of your circuit as is shown on Figure 10q.</p>
<div class="figure" id="id3">
<img alt="_images/Activity_8_Figure_10.png" src="_images/Activity_8_Figure_10.png" />
<p class="caption"><span class="caption-text">Figure 40: Figure 10: Frequency response of circuit from Figure 8 take by Bode analyzer  application</span></p>
</div>
<ul class="simple">
<li>Compare measurements and calculation. If there is any difference try to explain why.</li>
</ul>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">parasitic</p>
</div>
<p>The Bode analyzer application will make a frequency sweep in such way it will generate sine signal on OUT1 within frequency range selected by us(in settings menu).
IN1 input signal is directly connected to OUT1 following that IN1=Vin. IN2 is connected on the other side of the RLC circuit and from that IN2=Vout. Bode analyzer application will then for each frequency step take the ratio of IN1/IN2 and calculate frequency response.</p>
<p>2. On order to see how Vout/IN2 signal amplitude is changing in respect to OUT1
start the Oscilloscope application, in OUT1 settings enable OUT1, deselect SHOW button and look at the signal amplitudes of IN1 and IN2.</p>
<p>Change the OUT1  frequency, adjust t/div value so you have 2 cycles of the IN1 and observe the amplitudes of IN1 and IN2.
Repeat this step for OUT1 frequency from 100Hz to 1MHz and you should observe
same amplitude response as it is measured by Bode analyzer application.</p>
<p>Bode analyzer is also measuring phase between IN1 and IN2. Phase is also frequency dependent.  You can see that easily wit the Oscilloscope application.</p>
<ol class="arabic simple" start="3">
<li>Repeat the experiment using for the series resonant circuit in figure 3, and use L1 = 20 mH and C1 = 0.01 uF and R1 = 1 KΩ. The Vo voltage on the resistor is proportional to the series RLC circuit current.</li>
</ol>
</div>
<div class="section" id="questions">
<h2>8.6. Questions<a class="headerlink" href="#questions" title="Permalink to this headline">¶</a></h2>
<p>Plot the voltage response of the circuit and obtain the bandwidth from the half-power frequencies using equation (3).</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Activity09_LowPassandHighPassFilters.html" class="btn btn-neutral float-right" title="9. Low Pass and High Pass Filters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Activity07_ResponseRL.html" class="btn btn-neutral" title="7. Transient Response of an RL Circuit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Red Pitaya d.d..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>